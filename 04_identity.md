OpenStack アイデンティティ管理
==============================

Keystone によるユーザー認証
-------------------

### Keystone の認証処理

ユーザは OpenStack で操作を行う前にまず keystone による認証を行う。初期認証にはユーザー名とパスワードを使用する。認証に成功すると keystone からトークンとエンドポイントが与えられる。それを使ってその他のコンポーネントに対してリクエストを送信する。リクエストを受け取った各コンポーネントは渡されたトークンを元に keystone に問い合わせを行い、そのリクエストがユーザーに対して許可されている処理かどうかを確認する。

* トークン

    ユーザーのアカウント名・パスワード情報に変わるユーザーを特定するための情報

* エンドポイント
    
    各種サービス(Nova, Swift 等)が持つクラウド API の URL。以下の種類がある。

    - パブリック URL
        
        主にエンドユーザーによるインターネット経由のアクセス用

    - インターナル URL

        主に管理者や他の OpenStack コンポーネント用による LAN 経由のアクセス用

    - 管理用 URL

        主に管理者や他の OpenStack コンポーネント用による管理操作用

keystone は以下のプロセスで構成される。

* keystone-all 

    keystone の機能を提供するプロセス。

keystone が停止すると OpenStack のあらゆるコンポーネントに対するリクエストが送信できなくなる。

### keystone におけるユーザーとテナントの関係

keystone は認証許可のための情報として以下のパラメータを管理している。

* ユーザー
    
* グループ

* テナント

* ロール

    ユーザーが行えることを定義する。admin ロール, member ロール等が予め定義されている。


OpenStack におけるユーザー許可
------------

### 許可プロセス

### 許可コンポーネント

### 許可で使われるファイル

サービス指向の操作
-------------


